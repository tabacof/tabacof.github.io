<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Pedro Tabacof">
<meta name="dcterms.date" content="2019-03-15">

<title>Pedro Tabacof’s blog - The Hierarchy of Needs in Machine Learning</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Pedro Tabacof’s blog</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/tabacof/"><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/tabacof/"><i class="bi bi-linkedin" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/PedroTabacof"><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">The Hierarchy of Needs in Machine Learning</h1>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Pedro Tabacof </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">March 15, 2019</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<p>In 1943, Abraham Maslow created the <a href="https://en.wikipedia.org/wiki/Maslow%27s_hierarchy_of_needs">hierarchy of human needs</a>, ranging from basic physiological needs to abstract concepts like self-actualization. In this article, I would like to propose the hierarchy of needs in machine learning.</p>
<p><img src="ml_needs_pyramid.png" class="img-fluid"></p>
<p>A framework like this can be useful for answering questions such as:</p>
<ol type="1">
<li>Will my job as a data scientist be automated in a few years?</li>
<li>In terms of personal growth, should I focus on solving more problems on Kaggle or more problems in the real world?</li>
<li>What kind of monitoring should I do after deploying a model into production?</li>
</ol>
<p>I try to answer these and more questions at the end of this article, but first it is necessary to define and better understand each need in the hierarchy.</p>
<section id="the-hierarchy-of-needs" class="level2">
<h2 class="anchored" data-anchor-id="the-hierarchy-of-needs">The hierarchy of needs</h2>
<section id="business" class="level3">
<h3 class="anchored" data-anchor-id="business">Business</h3>
<p>The business is above everything, or rather, at the base of the pyramid. Directly or indirectly, we should always try to deliver value to the business. This way, we can have an impact on customers, obtain resources, and grow in our careers. This pragmatic view may be discouraging for those who are only seeking technical challenges, but I would like to propose that business challenges are more difficult and unique than those found in machine learning competitions.</p>
<p>No e-commerce company aims solely at predicting customer churn; the goal is actually to take actions that reduce churn among the most valuable customers. Credit risk alone is not useful for much; on the other hand, deciding who will receive credit and how much is the core of many financial institutions. The probability of conversion of each lead is only the first step in prioritizing and allocating sales resources in a B2B company. In the three examples cited above, the interest lies in intervention (causality) and not just prediction (machine learning).</p>
<p>I worked on a document classification project that initially did not seem to have any complicated business issues involved: achieving sufficient accuracy would be enough for the project to be successful. After talking to system users, we realized that the reason for the classification was more important than the decision itself. In the same place, a project had previously failed simply because it only considered the AUC of the model, without any concern for the use of the model in practice. We changed our focus and were able to deliver a system that was actually useful for users and the company.</p>
</section>
<section id="target" class="level3">
<h3 class="anchored" data-anchor-id="target">Target</h3>
<p>The target is what the model will try to predict, which may not be obvious at first:</p>
<ul>
<li><strong>Churn</strong>: What should be the time window considered? What if the user comes back to life?</li>
<li><strong>Credit</strong>: How to define a default? How long does someone need to be without paying?</li>
<li><strong>Sales lead</strong>: At what point in the sales funnel do we define conversion?</li>
<li><strong>Document classification</strong>: Which categories will be considered? What to do with sub-categories?</li>
</ul>
<p>Deciding the target is the most important step in modeling. There are no features or models that can save an inappropriate target. On the other hand, having an appropriate target, even very simple models (such as linear regression) with some basic features can already have some impact and be put into production.</p>
</section>
<section id="metrics" class="level3">
<h3 class="anchored" data-anchor-id="metrics">Metrics</h3>
<p>Evaluation metrics will indicate how well a model is predicting its target. It is not uncommon to use more than one evaluation metric for the same problem. For example, in a binary classification problem, one can use AUC to evaluate how the model is ranking examples and use logloss to evaluate if the probabilities make sense.</p>
<p>In addition, it is common to take into account business metrics, such as expected conversion rate or number of approvals. These metrics are more difficult to estimate offline, and some assumptions or experiments will generally be necessary. As laborious as it may be to deal with this type of metric, they will be a more powerful guide than traditional machine learning metrics. Additionally, communicating the results with people from other areas becomes easier.</p>
</section>
<section id="features" class="level3">
<h3 class="anchored" data-anchor-id="features">Features</h3>
<p>Features are what go into the model. It is crucial to avoid leakage, meaning that at the moment of putting the model into production, the features must appear in the same way they did during training. I once had a leakage problem when trying to predict conversions, as I used features that only appeared when the user converted. In other cases, the values were missing. The model learned that missing values were never associated with conversion and achieved 100% AUC. However, this model had no value.</p>
<p>Feature engineering can be partially automated with tools like <a href="https://www.featuretools.com/">Featuretools</a>. However, most of the work in creating new features depends on understanding the problem and the available data (including what can be crawled or purchased externally).</p>
<p>Is more always better when it comes to features? Not necessarily, as more features may require more monitoring and engineering, which may not be a good trade-off in certain cases. It is necessary to balance the value of features (perhaps with a business metric) with their operational cost.</p>
</section>
<section id="models" class="level3">
<h3 class="anchored" data-anchor-id="models">Models</h3>
<p>In the end, given the business constraints, target, evaluation metric, and features, the choice of models is considerably reduced. If the business requires interpretability of predictions, you should not use a neural network. If the target is continuous, you want a regression model, not a classification model. If the metric evaluates the calibration of probabilities, you want a model that can learn a <a href="https://en.wikipedia.org/wiki/Scoring_rule#Proper_scoring_rules">proper scoring rule</a>. If you have more features than examples, you want a model that can ignore most of the features, like Lasso regression.</p>
<p>The modeling process can be automated with tools like <a href="https://automl.github.io/auto-sklearn/master/">auto-sklearn</a> or <a href="https://pycaret.gitbook.io/docs/">PyCaret</a>, but only if it makes sense for the business. In certain occasions, gaining one percentage point of accuracy is not as useful as having interpretability of decisions, communicating to other areas how the model works (including external regulators), training speed in the case of “big data,” and prediction latency in real-time systems.</p>
</section>
</section>
<section id="applications" class="level2">
<h2 class="anchored" data-anchor-id="applications">Applications</h2>
<p>We can apply the hierarchy of needs to better understand the reality of machine learning, which is difficult to learn in MOOCs or competitions:</p>
<section id="the-spiral-of-applied-machine-learning" class="level3">
<h3 class="anchored" data-anchor-id="the-spiral-of-applied-machine-learning">The spiral of applied machine learning</h3>
<p>In practice, machine learning is not done in a linear way, starting with a business problem and ending with a model. The process is repeated several times, and each iteration feeds the next:</p>
<p><img src="ml_applied_spiral.png" class="img-fluid"></p>
</section>
<section id="ml-automation" class="level3">
<h3 class="anchored" data-anchor-id="ml-automation">ML automation</h3>
<p>Automation of machine learning acts only on some levels of the pyramid: primarily in modeling, then in feature engineering and selection. The other needs are much harder to automate and are the biggest differentiator among data scientists. Even in the modeling part, there are cases where maximizing a metric alone does not capture the whole story:</p>
<p>Once, while I was in the process of updating models, an analyst noticed that there was a small sub-population in which the new model provided predictions that made no sense. In terms of metrics, there was no doubt that the second model was better, but for the business, it was not good to make mistakes in this sub-population. In this case, since I was using a relatively interpretable model, I was able to discover the reason for the wrong predictions (related to how missing values were being handled) and think of an appropriate solution.</p>
</section>
<section id="monitoring" class="level3">
<h3 class="anchored" data-anchor-id="monitoring">Monitoring</h3>
<p>Monitoring a model in production should be done at all levels of the hierarchy. Monitoring is generally associated with evaluation metrics, but other needs should not be ignored. For example, in fraud detection, the target is generally censored for several months since it takes time to determine whether fraud occurred or not, which is a manual process. Therefore, metrics can only be calculated months after each model decision. In this case, it is important to evaluate how the target is changing over time (using proxies for lower censorship), monitor whether the model output distribution remains stable over time, and also whether the distribution of features remains the same, which is a significant challenge in itself.</p>
</section>
<section id="kaggle" class="level3">
<h3 class="anchored" data-anchor-id="kaggle">Kaggle</h3>
<p>In the case of Kaggle, the entire challenge is in modeling and feature engineering. The metric and target are already given, and the business does not appear explicitly. Therefore, we can see the limitations of Kaggle as training and evaluating a data scientist who will work on real problems.</p>
<p>Kaggle is an excellent tool for what it proposes, and it is highly valued in the selection process of some places. However, a data scientist needs to go beyond Kaggle and try to tackle other types of problems, those that are not well-formulated and therefore are a fertile ground for exploring targets, metrics, and using models in decision making.</p>
</section>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>In this article, I tried to convey the perspective of a machine learning practitioner, certainly biased by my own particular experience. However, I believe that the points raised are relevant to many other data scientists. I hope that the reader can use the presented hierarchy of needs to better guide their processes and decisions, whether as a practitioner or a student in the field. If anyone has another application of the framework, please do not hesitate to contact me or write a comment.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>